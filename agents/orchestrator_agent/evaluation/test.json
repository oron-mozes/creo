[
  {
    "name": "new_user_no_business_card",
    "description": "New user with no business card should be routed to onboarding_agent",
    "user_message": "I have a local coffee shop",
    "session_context": {
      "workflow_state": {
        "stage": null
      }
    },
    "expected_behavior": {
      "should_call_onboarding_agent": true,
      "should_call_frontdesk_agent": true,
      "should_NOT_call_campaign_brief": true,
      "should_NOT_ask_questions_directly": true,
      "should_NOT_search_google": true
    }
  },
  {
    "name": "onboarding_stage_active",
    "description": "When stage is 'onboarding', should stay with onboarding_agent",
    "user_message": "Alma cafe",
    "session_context": {
      "workflow_state": {
        "stage": "onboarding"
      }
    },
    "expected_behavior": {
      "should_call_onboarding_agent": true,
      "should_call_frontdesk_agent": true,
      "should_NOT_switch_to_campaign_brief": true,
      "should_NOT_search_google": true,
      "should_NOT_assume_location": true
    }
  },
  {
    "name": "onboarding_with_url",
    "description": "User provides URL during onboarding, should delegate to onboarding_agent",
    "user_message": "this is us https://www.almacafe.co.il/ourplaces/rehovot",
    "session_context": {
      "workflow_state": {
        "stage": "onboarding"
      }
    },
    "expected_behavior": {
      "should_call_onboarding_agent": true,
      "should_call_frontdesk_agent": true,
      "should_NOT_extract_info_itself": true,
      "should_delegate_url_to_onboarding": true
    }
  },
  {
    "name": "business_card_exists_find_influencers",
    "description": "Business card exists, user wants influencers - should route to campaign_brief_agent",
    "user_message": "I want to find influencers for my cafe",
    "session_context": {
      "workflow_state": {
        "stage": null
      },
      "business_card": {
        "name": "Alma Cafe",
        "website": "https://www.almacafe.co.il",
        "location": "Brooklyn, NY",
        "service_type": "Coffee shop"
      }
    },
    "expected_behavior": {
      "should_call_campaign_brief_agent": true,
      "should_call_frontdesk_agent": true,
      "should_NOT_call_onboarding_agent": true,
      "should_use_existing_business_card": true
    }
  },
  {
    "name": "campaign_brief_stage_active",
    "description": "When stage is 'campaign_brief', should stay with campaign_brief_agent",
    "user_message": "I want to reach young professionals who love specialty coffee",
    "session_context": {
      "workflow_state": {
        "stage": "campaign_brief"
      },
      "business_card": {
        "name": "Alma Cafe",
        "location": "Brooklyn, NY",
        "service_type": "Coffee shop"
      }
    },
    "expected_behavior": {
      "should_call_campaign_brief_agent": true,
      "should_call_frontdesk_agent": true,
      "should_NOT_switch_to_creator_finder": true,
      "should_stay_in_current_stage": true
    }
  },
  {
    "name": "vague_question_no_business_card",
    "description": "Vague marketing question with no business card - should start onboarding first",
    "user_message": "Can you help me with marketing?",
    "session_context": {
      "workflow_state": {
        "stage": null
      }
    },
    "expected_behavior": {
      "should_call_onboarding_agent": true,
      "should_call_frontdesk_agent": true,
      "should_NOT_answer_directly": true,
      "should_collect_business_info_first": true
    }
  },
  {
    "name": "business_card_exists_wants_campaign",
    "description": "User with business card wants to create a campaign - should route to campaign_brief_agent",
    "user_message": "I want to create a marketing campaign to promote my new menu",
    "session_context": {
      "workflow_state": {
        "stage": null
      },
      "business_card": {
        "name": "TechStart",
        "location": "San Francisco, CA",
        "service_type": "Tech startup"
      }
    },
    "expected_behavior": {
      "should_call_campaign_brief_agent": true,
      "should_call_frontdesk_agent": true,
      "should_NOT_call_onboarding_agent": true
    }
  },
  {
    "name": "business_card_exists_wants_outreach",
    "description": "User with business card wants help writing outreach message - should route to outreach_message_agent",
    "user_message": "Can you help me write a message to reach out to @fitness_guru_sarah?",
    "session_context": {
      "workflow_state": {
        "stage": null
      },
      "business_card": {
        "name": "FitLife Gym",
        "location": "Austin, TX",
        "service_type": "Fitness center"
      }
    },
    "expected_behavior": {
      "should_call_outreach_message_agent": true,
      "should_call_frontdesk_agent": true,
      "should_NOT_call_onboarding_agent": true
    }
  },
  {
    "name": "creator_finder_stage_active",
    "description": "When stage is 'creator_finder', should stay with creator_finder_agent",
    "user_message": "I want creators with at least 100K followers",
    "session_context": {
      "workflow_state": {
        "stage": "creator_finder"
      },
      "business_card": {
        "name": "GreenEats",
        "location": "Portland, OR",
        "service_type": "Vegan restaurant"
      }
    },
    "expected_behavior": {
      "should_call_creator_finder_agent": true,
      "should_call_frontdesk_agent": true,
      "should_NOT_switch_to_different_stage": true,
      "should_stay_in_current_stage": true
    }
  },
  {
    "name": "outreach_message_stage_active",
    "description": "When stage is 'outreach_message', should stay with outreach_message_agent",
    "user_message": "Make it more personal and mention our sustainable practices",
    "session_context": {
      "workflow_state": {
        "stage": "outreach_message"
      },
      "business_card": {
        "name": "EcoWear",
        "location": "Seattle, WA",
        "service_type": "Sustainable clothing"
      }
    },
    "expected_behavior": {
      "should_call_outreach_message_agent": true,
      "should_call_frontdesk_agent": true,
      "should_stay_in_current_stage": true
    }
  },
  {
    "name": "campaign_builder_stage_active",
    "description": "When stage is 'campaign_builder', should stay with campaign_builder_agent",
    "user_message": "Add more Instagram posts to the campaign",
    "session_context": {
      "workflow_state": {
        "stage": "campaign_builder"
      },
      "business_card": {
        "name": "StyleHub",
        "location": "Miami, FL",
        "service_type": "Fashion boutique"
      }
    },
    "expected_behavior": {
      "should_call_campaign_builder_agent": true,
      "should_call_frontdesk_agent": true,
      "should_stay_in_current_stage": true
    }
  },
  {
    "name": "multiple_business_info_pieces_no_business_card",
    "description": "User provides multiple pieces of business info upfront - should route to onboarding_agent",
    "user_message": "I run a yoga studio called ZenFlow in Boulder, Colorado",
    "session_context": {
      "workflow_state": {
        "stage": null
      }
    },
    "expected_behavior": {
      "should_call_onboarding_agent": true,
      "should_call_frontdesk_agent": true,
      "should_NOT_ask_for_already_provided_info": true
    }
  },
  {
    "name": "general_question_with_business_card",
    "description": "User asks general question but has business card - should provide helpful response without switching stages",
    "user_message": "What's the best way to reach millennials?",
    "session_context": {
      "workflow_state": {
        "stage": null
      },
      "business_card": {
        "name": "ModernEats",
        "location": "Chicago, IL",
        "service_type": "Restaurant"
      }
    },
    "expected_behavior": {
      "should_call_campaign_brief_agent": true,
      "should_call_frontdesk_agent": true,
      "should_provide_helpful_response": true
    }
  },
  {
    "name": "follow_up_question_during_onboarding",
    "description": "User asks clarifying question during onboarding - should stay with onboarding_agent",
    "user_message": "What do you mean by service type?",
    "session_context": {
      "workflow_state": {
        "stage": "onboarding"
      }
    },
    "expected_behavior": {
      "should_call_onboarding_agent": true,
      "should_call_frontdesk_agent": true,
      "should_help_user_understand": true,
      "should_NOT_switch_stages": true
    }
  },
  {
    "name": "specific_creator_request_with_business_card",
    "description": "User asks to find specific type of creators with existing business card",
    "user_message": "Find me food bloggers in Los Angeles with 50K+ followers",
    "session_context": {
      "workflow_state": {
        "stage": null
      },
      "business_card": {
        "name": "TacoTime",
        "location": "Los Angeles, CA",
        "service_type": "Mexican restaurant"
      }
    },
    "expected_behavior": {
      "should_call_campaign_brief_agent": true,
      "should_call_frontdesk_agent": true,
      "should_NOT_call_onboarding_agent": true
    }
  },
  {
    "name": "new_user_vague_query",
    "description": "Tests routing for a new user with a general, vague question when no business card exists.",
    "user_message": "Can you help me with marketing?",
    "session_context": {
      "business_card": null,
      "workflow_state": {
        "stage": null
      }
    },
    "expected_behavior": {
      "should_call_onboarding_agent_first": true,
      "should_call_frontdesk_agent_second": true,
      "should_not_call_campaign_brief_agent_first": true
    }
  },
  {
    "name": "new_user_providing_business_info",
    "description": "Tests routing for a new user who immediately provides business details, without an existing business card.",
    "user_message": "I have a small bakery called 'Sweet Treats' in Brooklyn.",
    "session_context": {
      "business_card": null,
      "workflow_state": {
        "stage": null
      }
    },
    "expected_behavior": {
      "should_call_onboarding_agent_first": true,
      "should_call_frontdesk_agent_second": true
    }
  },
  {
    "name": "onboarding_in_progress_url_input",
    "description": "Tests routing when the user is already in the onboarding stage and provides a URL.",
    "user_message": "Our website is https://www.sweettreats.com",
    "session_context": {
      "business_card": {
        "name": "Sweet Treats Bakery"
      },
      "workflow_state": {
        "stage": "onboarding"
      }
    },
    "expected_behavior": {
      "should_call_onboarding_agent_first": true,
      "should_call_frontdesk_agent_second": true,
      "should_not_extract_info_directly": true
    }
  },
  {
    "name": "business_card_exists_wants_influencers",
    "description": "Tests routing when a business card exists and the user explicitly asks for influencers, with no active stage.",
    "user_message": "Find me some food bloggers for my bakery.",
    "session_context": {
      "business_card": {
        "name": "Sweet Treats Bakery",
        "industry": "Food"
      },
      "workflow_state": {
        "stage": null
      }
    },
    "expected_behavior": {
      "should_call_campaign_brief_agent_first": true,
      "should_call_frontdesk_agent_second": true,
      "should_not_call_creator_finder_agent_first": true
    }
  },
  {
    "name": "campaign_brief_stage_continuation",
    "description": "Tests routing when the user is already in the campaign brief stage.",
    "user_message": "Let's focus on Instagram for the campaign.",
    "session_context": {
      "business_card": {
        "name": "Sweet Treats Bakery"
      },
      "workflow_state": {
        "stage": "campaign_brief"
      }
    },
    "expected_behavior": {
      "should_call_campaign_brief_agent_first": true,
      "should_call_frontdesk_agent_second": true
    }
  },
  {
    "name": "business_card_exists_wants_marketing_campaign",
    "description": "Tests routing when a business card exists and the user wants to create a marketing campaign, with no active stage.",
    "user_message": "I want to launch a new marketing campaign for our seasonal pastries.",
    "session_context": {
      "business_card": {
        "name": "Sweet Treats Bakery",
        "product": "Pastries"
      },
      "workflow_state": {
        "stage": null
      }
    },
    "expected_behavior": {
      "should_call_campaign_brief_agent_first": true,
      "should_call_frontdesk_agent_second": true
    }
  },
  {
    "name": "business_card_exists_wants_outreach_message",
    "description": "Tests routing when a business card exists and the user specifically asks for an outreach message, with no active stage.",
    "user_message": "Write a message to a local influencer about collaborating.",
    "session_context": {
      "business_card": {
        "name": "Sweet Treats Bakery"
      },
      "workflow_state": {
        "stage": null
      }
    },
    "expected_behavior": {
      "should_call_outreach_message_agent_first": true,
      "should_call_frontdesk_agent_second": true
    }
  },
  {
    "name": "creator_finder_stage_continuation",
    "description": "Tests routing when the user is already in the creator finder stage.",
    "user_message": "Filter by followers between 10k-50k.",
    "session_context": {
      "business_card": {
        "name": "Sweet Treats Bakery"
      },
      "workflow_state": {
        "stage": "creator_finder"
      }
    },
    "expected_behavior": {
      "should_call_creator_finder_agent_first": true,
      "should_call_frontdesk_agent_second": true
    }
  },
  {
    "name": "business_card_exists_general_marketing_question",
    "description": "Tests routing for a general marketing question when a business card exists and no stage is active.",
    "user_message": "What's the best platform to reach Gen Z for a new snack product?",
    "session_context": {
      "business_card": {
        "name": "Crunchy Bites Snacks"
      },
      "workflow_state": {
        "stage": null
      }
    },
    "expected_behavior": {
      "should_call_campaign_brief_agent_first": true,
      "should_call_frontdesk_agent_second": true,
      "should_not_call_onboarding_agent_first": true
    }
  },
  {
    "name": "campaign_builder_stage_continuation",
    "description": "Tests routing when the user is already in the campaign builder stage.",
    "user_message": "Let's finalize the budget for this campaign.",
    "session_context": {
      "business_card": {
        "name": "Sweet Treats Bakery"
      },
      "workflow_state": {
        "stage": "campaign_builder"
      }
    },
    "expected_behavior": {
      "should_call_campaign_builder_agent_first": true,
      "should_call_frontdesk_agent_second": true
    }
  }
]